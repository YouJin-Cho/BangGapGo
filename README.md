# 🏠 방갑고
![사진](https://github.com/Team-FAB/FAB-FE/assets/122066788/595eb1c6-d188-460e-825f-ff15e9c75cf1)
<br><br>

# 👀 Overview

사회 초년생들이 직장이나 학교생활을 시작할 때, 주거비용은 상당한 부담으로 다가옵니다. <br>
특히 월세와 전세금이 끊임없이 상승하는 현실 속에서, 혼자서 주거비용을 감당하는 것은 독립을 추진하는 과정에서 예상치 못한 경제적 압박이 될 수 있습니다. <br>
따라서 이러한 문제를 해결하기 위해 룸메이트 매칭 플랫폼을 기획하게 되었습니다. 

💁‍♀️ 1:1 룸메이트 매칭 플랫폼 방갑고를 통해 사회 초년생들은 주거비용 부담을 줄이고, 적합한 룸메이트를 찾을 수 있습니다.

<br>

# 🔍 배포주소
https://fab-fe-rust.vercel.app/

<br>

# 🎬 시연영상
https://www.youtube.com/watch?v=T61bLiATLN0&list=PLR8FoyenzZ0Uene03sOTvGa8dNFejVUoB&index=2

<br>

# 📝 Notion주소
https://www.notion.so/cb2e54049e1240c59d18928fdd83c5d0?v=c40b3db97f7a4042b2db491e8e752346

<br>

# 📌 Project

## ⚙ 프로젝트 아키텍처
![아키택처](https://github.com/Team-FAB/FAB-FE/assets/122066788/fb1ff4ca-f768-4ea0-984b-f0114893f785)


## 🛠 기술스택
**Frontend**
- TypeScript
- React
- Vite
- StompJS
- React-router-dom
- Redux

**Styles**
- module.css
- Ant Design

**Deploy / Tools**
- Vercel
- GitHub

**Communication**
- Slack
- Discord
- Gather town

## 🔗 담당 기능
<h3>1) 룸메이트 1:1 매칭 및 신청현황 ⬇️</h3>

![매칭](https://github.com/YouJin-Cho/how-about-the-diet/assets/122290134/6f8ab810-9537-452e-b1c5-9ee3e059180c) 

![신청현황](https://github.com/Team-FAB/FAB-FE/assets/122290134/c2aa59bb-0e2c-4122-90d4-4ac9f585a45e)
<br><br>
▶️ **모집 게시글 신청하기**

- 유저가 원하는 룸메이트 모집 게시글이 있을 경우, 룸메이트를 신청할 수 있습니다.
- 모집 게시글 또는 신청현황에서 신청 취소를 할 수 있으며, 화면으로 실시간 확인이 가능합니다.

▶️ **신청현황 (신청했어요)**

- ‘신청했어요’ 영역에서는 유저가 신청한 게시글에 대한 현황을 볼 수 있습니다.
- 게시글은 매칭 여부 및 현황에 따라 ‘대기, 승인, 거절’ 상태로 표시됩니다.
- 유저는 본인이 신청한 ‘게시글’과 해당 게시글 작성자의 ‘프로필’을 열람할 수 있습니다.

▶️ **신청현황 (신청받았어요)**

- ‘신청받았어요’ 영역에서는 유저가 작성한 모집 게시글에 대한 신청현황을 볼 수 있습니다.
- 유저는 신청받은 게시글에 대해 ‘승인, 거절, 삭제’를 선택할 수 있습니다.
- 신청받은 ‘게시글’과 신청 유저의 ‘프로필’을 열람할 수 있습니다.
<br><br>

<h3>2) 1:1 채팅 ⬇️</h3>

![채팅](https://github.com/Team-FAB/FAB-FE/assets/122290134/68faefd5-214a-4d64-9791-e4b7b2bd6ede)
<br><br>
▶️ **1:1 채팅방 생성**

- 1:1 룸메이트 매칭이 된 경우, 신청현황에서 ‘채팅방 만들기’ 버튼을 클릭하여 채팅방을 생성할 수 있습니다.
- 1:1 매칭이 이루어진 다수의 게시글에 대해서 각각 독립적인 채팅방을 생성하여 소통할 수 있습니다.

▶️ **채팅 기능**

- 1:1 매칭이 된 유저와 대화를 할 수 있으며, 기존 대화 내용이 있는 경우, 대화 내용을 불러옵니다.
<br><br>

<h3>3) 프로필 조회, 수정 및 이미지 업로드 ⬇️</h3>

![이미지 업로드 (1)](https://github.com/Team-FAB/FAB-FE/assets/122290134/86ebe20b-ba6a-4c52-ba7b-8416a5e35271)
<br><br>

▶️ **프로필 조회/수정**

- 다른 유저에게 열람되는 프로필 성향 및 소개를 작성할 수 있습니다.
- 닉네임 변경이 가능하며, 닉네임이 중복될 경우 유효성 검사를 통해 유저에게 알림을 띄웁니다.

▶️ **이미지 업로드**

- 프로필 이미지를 변경할 수 있으며, 10MB 이하 jpg/png 파일만 업로드 할 수 있습니다.
<br><br>

<h3>4) 게시글 찜하기 및 찜한 목록 ⬇️</h3>

![찜하기](https://github.com/YouJin-Cho/how-about-the-diet/assets/122290134/b0cc5dbe-f8dd-4fc4-8f34-63d331eddefc)


▶️ **게시글 찜하기/취소하기**

- 유저는 자신이 선호하는 룸메이트 모집 게시글을 찜할 수 있고, 언제든 찜을 취소할 수 있습니다.

▶️ **내 정보** ‘**찜한 목록’**

- 내 정보 ‘찜한 목록'에서 사용자는 자신이 찜한 게시글들을 한 눈에 확인할 수 있으며, 찜 취소의 경우에도 실시간으로 화면 업데이트가 이루어져, 변경된 상태를 즉시 확인할 수 있습니다.
<br><br>

## 🎯 트러블 슈팅

<h3>1️⃣ 룸메이트 모집 게시글(postCard)의 공통 사용으로 인한 중복 서버 요청 문제</h3>
❌ 문제점 1)  공통으로 사용되는 게시글(postCard) 컴포넌트가 독립적으로 GET 요청을 보내는 구조였습니다. 이에 따라 게시글과 관련된 다른 기능을 백엔드와 연동할 경우, GET 요청이 중복되어 불필요한 서버 요청이 발생했습니다.<br>
✅ 해결 방안 1) postCard 컴포넌트에서 link와 JWT 토큰의 유무에 따라 fetch API를 구분하여 호출하는 방식으로 임시 해결하였습니다.<br>
❌ 문제점 2) 첫 번째 해결 방안 이후, postCard 컴포넌트에 여러 fetch 함수가 존재하게 되었고, 이로 인해 함수가 제대로 동작하지 않는 새로운 문제가 발생하였습니다.<br>
✅ 해결 방안 2) postCard 컴포넌트 내에 있던 서버 호출 함수를 모두 분리하고, 상위 컴포넌트에서 해당 상태 값을 props로 전달하여 게시글에 표시하는 방식으로 문제를 해결하였습니다.<br>
<h4>💡 효과) 게시글(postCard) 내의 '찜하기', '신청하기', '모집/마감' 등의 상태 값이 해당하는 상황에만 요청되도록 수정함으로써 불필요한 서버 호출을 줄이고 성능을 향상시켰습니다. 또한, 이러한 변경을 통해 이후 유지보수가 편리해졌습니다.</h4><br>

<h3>2️⃣ '찜한 목록'에서 게시글 '찜 해제' 시, 실시간 화면 미반영 문제</h3>
❌ 문제점) '찜한 목록'에서 게시글을 '찜 해제'하였을 때, 화면에서 즉시 해당 게시글이 삭제되지 않는 문제가 발생하였습니다.<br>
✅ 해결 방안) '찜하기' 기능을 Redux로 관리하여, '찜한 게시글'의 상태 값을 업데이트하고, Redux-toolkit을 사용해 '찜 해제' 후 실시간으로 화면에 적용되도록 하였습니다.<br>

<h4>💡 효과) Redux로 상태 관리를 함으로써, 새로고침 등 불필요한 렌더링으로 서버 요청을 재전송할 필요가 없어져 성능을 향상시켰습니다.</h4><br>

<h3>3️⃣ Vite TypeScript 환경에서 CORS 오류와 Proxy 설정 이슈</h3>
❌ 문제점) CORS 오류를 해결하기 위해 Proxy 설정을 시도하였으나, Vite TypeScript 환경에서 importMeta.env를 인식하지 못하는 문제가 발생하였습니다.<br>
✅ 해결 방안) loadEnv(mode, process.cwd(), '')을 사용하여 .env 파일의 환경 변수에 직접 접근하여 문제를 해결하였습니다.<br>

<h4>💡 효과) 개발 환경에 따른 호환성 문제를 해결 하였고, CORS 오류를 해결함으로써 프로젝트의 전반적인 개발 효율성이 향상되었습니다. 또한 서버와 클라이언트 간의 정상적인 데이터 교환을 가능하게 하여 프로젝트의 안정성과 신뢰성을 높였습니다.</h4><br>


## 📋 ERD
![Untitled (2)](https://github.com/Team-FAB/FAB-FE/assets/122066788/f0f62fec-f5d7-42dc-ae69-50a344491f44)
